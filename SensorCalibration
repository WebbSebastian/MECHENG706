int irsensorSF = 0; //Short Front sensor is attached on pinA0
int irsensorSS = 0; //Short Side sensor is attached on 
int irsensorLF = A3; //Long Front sensor is attached on 
int irsensorLS = A8; //Long Side sensor is attached on 
byte serialRead = 0; //for control serial communication
float ADCsignalSF = 0; // the read out signal in 0-1023 corresponding to 0-5v
float ADCsignalSS = 0; // the read out signal in 0-1023 corresponding to 0-5v
float ADCsignalLF = 0; // the read out signal in 0-1023 corresponding to 0-5v
float ADCsignalLS = 0; // the read out signal in 0-1023 corresponding to 0-5v
void setup() {
// put your setup code here, to run once:
Serial.begin(115200); // start serial communication
}
void loop() {
// put your main code here, to run repeatedly:
if (Serial.available()) // Check for input from terminal
{
serialRead = Serial.read(); // Read input
if (serialRead==49) // Check for flag to execute, 49 is ascii for 1, stop serial printing
{
Serial.end(); // end the serial communication to get the sensor data
}
}
ADCsignalSF = analogRead(irsensorSF); // the read out is a signal from 0-1023 corresponding to 0-5v Short Front 
ADCsignalSS = analogRead(irsensorSS); // the read out is a signal from 0-1023 corresponding to 0-5v Short Side
ADCsignalLF = analogRead(irsensorLF); // the read out is a signal from 0-1023 corresponding to 0-5v Long Front 
ADCsignalLS = analogRead(irsensorLS); // the read out is a signal from 0-1023 corresponding to 0-5v Long Side
float distanceSF = 2428*pow(ADCsignalSF,-1); // calculate the distance using the datasheet graph
float distanceSS = 2428*pow(ADCsignalSS,-1); // calculate the distance using the datasheet graph
float distanceLF = 13.16092 + (153.9881 - 13.16092)/(1 + pow((ADCsignalLF/78.4712), 2.3085)); // calculate the distance using the datasheet graph
float distanceLS = 13.16092 + (153.9881 - 13.16092)/(1 + pow((ADCsignalLS/78.4712), 2.3085)); // calculate the distance using the datasheet graph
Serial.print("SF: ");Serial.print(distanceSF); Serial.print("cm  "); Serial.print(ADCsignalSF); Serial.print("V     ");
Serial.print("SS: "); Serial.print(distanceSS); Serial.print("cm  "); Serial.print(ADCsignalSS); Serial.print("V        ");
Serial.print("LF: "); Serial.print(distanceLF); Serial.print("cm  "); Serial.print(ADCsignalLF); Serial.print("V        ");
Serial.print("LS: "); Serial.print(distanceLS); Serial.print("cm "); Serial.print("V "); Serial.println("");


delay(500);
}
